
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<div class="wrap">
    <div class="header">
        <div class="function">
            <button class="btn btn-success" (click)="saveNote()">
                Lưu
            </button>
            <button class="btn btn-danger" (click)="deleteNote(noteId)">
                Xóa ghi chú
            </button>
        </div>
        <div class="color-pick">
            <label for="ColorInput" class="form-label">Title Color</label><span>
                <input type="color" class="form-control form-control-color" id="ColorInput" [value]="noteContent.color" title="Choose your color">
            </span>
        </div> 
        <div class="note-title">
            <span id="noteTitle" class="textarea" role="textbox" contenteditable [style.color]=noteContent.color>
                {{ noteContent.title }}
            </span>   
            
        </div>
    </div>
    <div class="note-image">
        <div class="current-image" id="current-image" (wheel)="onWheel($event)">
            <div *ngFor= "let imageNote of noteContent.imageNotes">
                <div type="button" class="btn image-tag" data-bs-toggle="modal" data-bs-target="#imageModal" id="{{imageNote.id}}" (click)="getElementId(imageNote.id)">
                    <img class="img-fluid" src="{{imageNote.imageUrl}}" alt="">
                    <h3>{{imageNote.text}}</h3>
                </div>
            </div>
        </div>
        <div class="add-image">
            <button type="button" class="btn image-tag" data-bs-toggle="modal" data-bs-target="#addImage">
                <img class="img-fluid" src="https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image.png" alt="">
                <span>Thêm hình ảnh</span>
            </button>
        </div>
    </div>
    <div class="note-content">
        <div class="note-content__text">
            <span id="noteContent" class="textarea" role="textbox" contenteditable>
                {{ noteContent.text }}
            </span>   
        </div>
    </div>
</div>







<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered">
      <div class="modal-content">
       
        <div class="modal-body">
          <app-image-note [imageNote]="imageNoteContent(clickedId)"></app-image-note>
        </div>
        <div class="modal-footer">
            <button data-bs-dismiss="modal" >
                Đóng
            </button>
            <button (click)="deleteImage(clickedId)">
                Xóa
            </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="addImage" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered">
      <div class="modal-content">
       
        <div class="modal-body">
            <label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">URL</span>
                    <input type="url" class="form-control" placeholder="Nhập đường dẫn hình ảnh" #imageURL aria-label="Recipient's username" aria-describedby="button-addon2">
                    <button class="btn btn-success" type="button" id="button-addon2" (click)="loadImage(imageURL.value)">Button</button>
                </div>
                <img id="temp-image" class="img-fluid" src="https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image.png" alt="">
            </label>
            <textarea id="image-caption" class="form-control" #imageCaption placeholder="nhập caption"></textarea>
        </div>
        <div class="modal-footer">
            <div class="button-wrap">
                <button data-bs-dismiss="modal" class="button-dismiss">
                    Đóng
                </button>
                <button (click)="saveImage(imageCaption.value, imageURL.value)" class="button-save btn-success">
                    Lưu
                </button>
            </div>
            
        </div>
      </div>
    </div>
  </div>